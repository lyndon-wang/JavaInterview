# 图解http阅读笔记

## 第1章——了解web及网络基础

### 1.1使用 HTTP 协议访问 Web

Web 使用一种名为 HTTP（HyperText Transfer Protocol，超文本传输协议  [**超文本转移协议**] --[关于HTTP中文翻译的讨论](https://www.ituring.com.cn/article/1817)）的协议作为规范，完成从客户端到服务器端等一系列运作流程。而协议是指规则的约定。可以说，Web 是建立在 HTTP 协议上通信的。

### 1.2 HTTP 的诞生

- HTTP/0.9 —— HTTP 于 1990 年问世。那时的 HTTP 并没有作为正式的标准被建立。现在的 HTTP 其实含有 HTTP1.0 之前版本的意思，因此被称为HTTP/0.9。
- HTTP/1.0 —— HTTP 正式作为标准被公布是在 1996 年的 5 月，版本被命名为HTTP/1.0，并记载于 RFC1945。虽说是初期标准，但该协议标准至今仍被广泛使用在服务器端。
- HTTP/1.1 —— 1997 年 1 月公布的 HTTP/1.1 是目前主流的 HTTP 协议版本。当初的标准是 RFC2068，之后发布的修订版 RFC2616 就是当前的最新版本。
- HTTP/2.0 —— [深入理解http2.0协议，看这篇就够了！](https://juejin.cn/post/6844903984524705800)

>当年 HTTP 协议的出现主要是为了解决文本传输的难题。由于协议本身非常简单，于是在此基础上设想了很多应用方法并投入了实际使用。现在 HTTP 协议已经超出了 Web 这个框架的局限，被运用到了各种场景里。

### 1.3 网络基础 TCP/IP

通常使用的网络（包括互联网）是在 TCP/IP 协议族的基础上运作的。而 HTTP 属于它内部的一个子集。

<img src="https://typora-imagehost-1308499275.cos.ap-shanghai.myqcloud.com/2022-5/202205182048444.png" alt="image-20220518204827357" style="zoom:80%;" />

TCP/IP 协议族里重要的一点就是分层。TCP/IP 协议族按层次分别分为以下 4 层：应用层、传输层、网络层和数据链路层。分层的好处在于，当协议某个部分需要变动时不需要整体的替换掉整个协议，只需替换变动的层即可，将各层之间的接口做好规划就可以让每个内部的层自由设计，同时层次化之后设计也更加简单，各个层只需考虑自身的功能实现即可。

**TCP/IP 协议族各层的作用如下：**

- 应用层

  应用层决定了向用户提供应用服务时通信的活动。TCP/IP 协议族内预存了各类通用的应用服务。比如，FTP（File
  Transfer Protocol，文件传输协议）和 DNS（Domain Name System，域名系统）服务就是其中两类。HTTP 协议也处于该层。

- 传输层

  传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。在传输层有两个性质不同的协议：TCP（Transmission ControlProtocol，传输控制协议）和 UDP（User Data Protocol，用户数据报协议）。

- 网络层（又名网络互连层）

  网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传送给对方。与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输路线。

- 链路层（又名数据链路层，网络接口层）

  用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等物理可见部分（还包括连接器等一切传输媒介）。硬件上的范畴均在链路层的作用范围之内。

利用 TCP/IP 协议族进行数据交互时会按分层依次传递数据，发送端自顶向下发送传输数据时每经过一层就会打上一个首部信息，接受层自底向上接受数据时会一层一层去掉首部信息，这种数据的包装方法称之为**封装**。

<img src="https://typora-imagehost-1308499275.cos.ap-shanghai.myqcloud.com/2022-5/202205182100125.png" alt="image-20220518210049045" style="zoom:80%;" />

### 1.4 与 HTTP 关系密切的协议 : IP、TCP 和DNS

- 负责传输的 IP 协议

  IP 间的通信依赖 MAC 地址（**物理地址**，基本上是唯一且不变的）。在网络上，通信的双方在同一局域网（LAN）内的情况是很少的，通常是经过多台计算机和网络设备中转才能连接到对方。而在进行中转时，会利用下一站中转设备的 MAC地址来搜索下一个中转目标。这时，会采用 ARP 协议（AddressResolution Protocol）。ARP 是一种用以解析地址的协议，根据通信方的 IP 地址就可以反查出对应的 MAC 地址。

- 确保可靠性的 TCP 协议

  TCP位于传输层，提供可靠的字节流服务，为保证可靠，TCP在将数据包送出去后通过三次握手等一些手段来保证通信的可靠性。

- 负责域名解析的 DNS 服务

  DNS是位于应用层的协议，它提供域名到 IP 地址之间的解析服务，DNS 协议提供通过域名查找 IP 地址，或逆向从 IP 地址反查域名的服务。

各种协议与 HTTP 协议的关系：

<img src="https://typora-imagehost-1308499275.cos.ap-shanghai.myqcloud.com/2022-5/202205182115635.png" alt="image-20220518211544521" style="zoom:90%;" />

### 1.5 URI 和 URL